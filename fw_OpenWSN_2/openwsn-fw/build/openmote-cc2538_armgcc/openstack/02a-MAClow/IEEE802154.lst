   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 6
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"IEEE802154.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.rodata
  16              		.align	2
  19              	rreg_uriquery:
  20 0000 683D7563 		.ascii	"h=ucb\000"
  20      6200
  21 0006 0000     		.align	2
  24              	infoBoardname:
  25 0008 43433235 		.ascii	"CC2538\000"
  25      333800
  26 000f 00       		.align	2
  29              	infouCName:
  30 0010 43433235 		.ascii	"CC2538\000"
  30      333800
  31 0017 00       		.align	2
  34              	infoRadioName:
  35 0018 43433235 		.ascii	"CC2538 SoC\000"
  35      33382053 
  35      6F4300
  36 0023 00       		.align	2
  39              	infoStackName:
  40 0024 4F70656E 		.ascii	"OpenWSN \000"
  40      57534E20 
  40      00
  41 002d 000000   		.align	2
  44              	chTemplate_default:
  45 0030 05       		.byte	5
  46 0031 06       		.byte	6
  47 0032 0C       		.byte	12
  48 0033 07       		.byte	7
  49 0034 0F       		.byte	15
  50 0035 04       		.byte	4
  51 0036 0E       		.byte	14
  52 0037 0B       		.byte	11
  53 0038 08       		.byte	8
  54 0039 00       		.byte	0
  55 003a 01       		.byte	1
  56 003b 02       		.byte	2
  57 003c 0D       		.byte	13
  58 003d 03       		.byte	3
  59 003e 09       		.byte	9
  60 003f 0A       		.byte	10
  61              		.align	2
  64              	ebIEsBytestream:
  65 0040 1A       		.byte	26
  66 0041 88       		.byte	-120
  67 0042 06       		.byte	6
  68 0043 1A       		.byte	26
  69 0044 00       		.byte	0
  70 0045 00       		.byte	0
  71 0046 00       		.byte	0
  72 0047 00       		.byte	0
  73 0048 00       		.byte	0
  74 0049 00       		.byte	0
  75 004a 01       		.byte	1
  76 004b 1C       		.byte	28
  77 004c 00       		.byte	0
  78 004d 01       		.byte	1
  79 004e C8       		.byte	-56
  80 004f 00       		.byte	0
  81 0050 0A       		.byte	10
  82 0051 1B       		.byte	27
  83 0052 01       		.byte	1
  84 0053 00       		.byte	0
  85 0054 0D       		.byte	13
  86 0055 00       		.byte	0
  87 0056 01       		.byte	1
  88 0057 00       		.byte	0
  89 0058 00       		.byte	0
  90 0059 00       		.byte	0
  91 005a 00       		.byte	0
  92 005b 0F       		.byte	15
  93              		.align	2
  96              	linklocalprefix:
  97 005c FE       		.byte	-2
  98 005d 80       		.byte	-128
  99 005e 00       		.byte	0
 100 005f 00       		.byte	0
 101 0060 00       		.byte	0
 102 0061 00       		.byte	0
 103 0062 00       		.byte	0
 104 0063 00       		.byte	0
 105              		.text
 106              		.align	1
 107              		.global	ieee802154_prependHeader
 108              		.syntax unified
 109              		.thumb
 110              		.thumb_func
 111              		.fpu softvfp
 113              	ieee802154_prependHeader:
 114              	.LFB3:
 115              		.file 1 "build\\openmote-cc2538_armgcc\\openstack\\02a-MAClow\\IEEE802154.c"
   1:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** #include "opendefs.h"
   2:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** #include "IEEE802154.h"
   3:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** #include "IEEE802154E.h"
   4:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** #include "packetfunctions.h"
   5:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** #include "idmanager.h"
   6:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** #include "openserial.h"
   7:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** #include "topology.h"
   8:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** #include "IEEE802154_security.h"
   9:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
  10:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** //=========================== define ==========================================
  11:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
  12:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** //=========================== variables =======================================
  13:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
  14:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** //=========================== prototypes ======================================
  15:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
  16:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** //=========================== public ==========================================
  17:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
  18:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** /**
  19:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** \brief Prepend the IEEE802.15.4 MAC header to a (to be transmitted) packet.
  20:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
  21:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** Note that we are writing the field from the end of the header to the beginning.
  22:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
  23:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** \param[in,out] msg              The message to append the header to.
  24:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** \param[in]     frameType        Type of IEEE802.15.4 frame.
  25:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** \param[in]     payloadIEPresent Is the IE list present?
  26:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** \param[in]     sequenceNumber   Sequence number of this frame.
  27:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** \param[in]     nextHop          Address of the next hop
  28:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** */
  29:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** void ieee802154_prependHeader(OpenQueueEntry_t* msg,
  30:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                               uint8_t           frameType,
  31:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                               bool              payloadIEPresent,
  32:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                               uint8_t           sequenceNumber,
  33:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                               open_addr_t*      nextHop) {
 116              		.loc 1 33 0
 117              		.cfi_startproc
 118              		@ args = 4, pretend = 0, frame = 24
 119              		@ frame_needed = 1, uses_anonymous_args = 0
 120 0000 80B5     		push	{r7, lr}
 121              		.cfi_def_cfa_offset 8
 122              		.cfi_offset 7, -8
 123              		.cfi_offset 14, -4
 124 0002 86B0     		sub	sp, sp, #24
 125              		.cfi_def_cfa_offset 32
 126 0004 00AF     		add	r7, sp, #0
 127              		.cfi_def_cfa_register 7
 128 0006 7860     		str	r0, [r7, #4]
 129 0008 0846     		mov	r0, r1
 130 000a 1146     		mov	r1, r2
 131 000c 1A46     		mov	r2, r3
 132 000e 0346     		mov	r3, r0
 133 0010 FB70     		strb	r3, [r7, #3]
 134 0012 0B46     		mov	r3, r1
 135 0014 BB70     		strb	r3, [r7, #2]
 136 0016 1346     		mov	r3, r2
 137 0018 7B70     		strb	r3, [r7, #1]
  34:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    uint8_t      temp_8b;
  35:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    uint8_t      ielistpresent = IEEE154_IELIST_NO;
 138              		.loc 1 35 0
 139 001a 0023     		movs	r3, #0
 140 001c BB75     		strb	r3, [r7, #22]
  36:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    bool         securityEnabled;
  37:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    int16_t      timeCorrection;
  38:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    uint16_t     timeSyncInfo;
  39:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    uint16_t     length_elementid_type;
  40:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    bool         headerIEPresent = FALSE;
 141              		.loc 1 40 0
 142 001e 0023     		movs	r3, #0
 143 0020 BB74     		strb	r3, [r7, #18]
  41:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    uint8_t      destAddrMode = -1;
 144              		.loc 1 41 0
 145 0022 FF23     		movs	r3, #255
 146 0024 FB74     		strb	r3, [r7, #19]
  42:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
  43:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    securityEnabled = msg->l2_securityLevel == IEEE154_ASH_SLF_TYPE_NOSEC ? 0 : 1;
 147              		.loc 1 43 0
 148 0026 7B68     		ldr	r3, [r7, #4]
 149 0028 93F8A930 		ldrb	r3, [r3, #169]	@ zero_extendqisi2
 150 002c 002B     		cmp	r3, #0
 151 002e 14BF     		ite	ne
 152 0030 0123     		movne	r3, #1
 153 0032 0023     		moveq	r3, #0
 154 0034 7B74     		strb	r3, [r7, #17]
  44:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
  45:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    msg->l2_payload = msg->payload; // save the position where to start encrypting if security is en
 155              		.loc 1 45 0
 156 0036 7B68     		ldr	r3, [r7, #4]
 157 0038 5A68     		ldr	r2, [r3, #4]
 158 003a 7B68     		ldr	r3, [r7, #4]
 159 003c DA65     		str	r2, [r3, #92]
  46:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
  47:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    // General IEs here (those that are carried in all packets)
  48:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    // add termination IE accordingly
  49:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    if (payloadIEPresent == TRUE) {
 160              		.loc 1 49 0
 161 003e BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 162 0040 002B     		cmp	r3, #0
 163 0042 0FD0     		beq	.L2
  50:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        ielistpresent = IEEE154_IELIST_YES;
 164              		.loc 1 50 0
 165 0044 0123     		movs	r3, #1
 166 0046 BB75     		strb	r3, [r7, #22]
  51:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        //add header termination IE (id=0x7e)
  52:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        packetfunctions_reserveHeaderSize(msg,TERMINATIONIE_LEN);
 167              		.loc 1 52 0
 168 0048 0221     		movs	r1, #2
 169 004a 7868     		ldr	r0, [r7, #4]
 170 004c FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
  53:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        msg->payload[0] = HEADER_TERMINATION_1_IE         & 0xFF;
 171              		.loc 1 53 0
 172 0050 7B68     		ldr	r3, [r7, #4]
 173 0052 5B68     		ldr	r3, [r3, #4]
 174 0054 0022     		movs	r2, #0
 175 0056 1A70     		strb	r2, [r3]
  54:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        msg->payload[1] = (HEADER_TERMINATION_1_IE  >> 8) & 0xFF;
 176              		.loc 1 54 0
 177 0058 7B68     		ldr	r3, [r7, #4]
 178 005a 5B68     		ldr	r3, [r3, #4]
 179 005c 0133     		adds	r3, r3, #1
 180 005e 3F22     		movs	r2, #63
 181 0060 1A70     		strb	r2, [r3]
 182 0062 1BE0     		b	.L3
 183              	.L2:
  55:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
  56:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
  57:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    } else {
  58:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        // check whether I have payload, if yes, add header termination IE (0x7F)
  59:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        // or ternimation IE will be omitted. For example, Keep alive doesn't have
  60:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        // any payload, so there is no ternimation IE for it.
  61:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        if (msg->length != 0) {
 184              		.loc 1 61 0
 185 0064 7B68     		ldr	r3, [r7, #4]
 186 0066 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 187 0068 002B     		cmp	r3, #0
 188 006a 12D0     		beq	.L4
  62:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            //add header termination IE (id=0x7f)if I have header IE list, OR
  63:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            // no need for termination IE.
  64:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            if (headerIEPresent == TRUE){
 189              		.loc 1 64 0
 190 006c BB7C     		ldrb	r3, [r7, #18]	@ zero_extendqisi2
 191 006e 002B     		cmp	r3, #0
 192 0070 14D0     		beq	.L3
  65:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                ielistpresent = IEEE154_IELIST_YES;
 193              		.loc 1 65 0
 194 0072 0123     		movs	r3, #1
 195 0074 BB75     		strb	r3, [r7, #22]
  66:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                packetfunctions_reserveHeaderSize(msg,TERMINATIONIE_LEN);
 196              		.loc 1 66 0
 197 0076 0221     		movs	r1, #2
 198 0078 7868     		ldr	r0, [r7, #4]
 199 007a FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
  67:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                msg->payload[0] = HEADER_TERMINATION_2_IE        & 0xFF;
 200              		.loc 1 67 0
 201 007e 7B68     		ldr	r3, [r7, #4]
 202 0080 5B68     		ldr	r3, [r3, #4]
 203 0082 8022     		movs	r2, #128
 204 0084 1A70     		strb	r2, [r3]
  68:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                msg->payload[1] = (HEADER_TERMINATION_2_IE >> 8) & 0xFF;
 205              		.loc 1 68 0
 206 0086 7B68     		ldr	r3, [r7, #4]
 207 0088 5B68     		ldr	r3, [r3, #4]
 208 008a 0133     		adds	r3, r3, #1
 209 008c 3F22     		movs	r2, #63
 210 008e 1A70     		strb	r2, [r3]
 211 0090 04E0     		b	.L3
 212              	.L4:
  69:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            } else {
  70:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                // no header IE present, no payload IE, no termination IE
  71:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            }
  72:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        } else {
  73:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            // no payload, termination IE is omitted. check whether timeCorrection IE
  74:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            // presents.
  75:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            if (frameType != IEEE154_TYPE_ACK) {
 213              		.loc 1 75 0
 214 0092 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 215 0094 022B     		cmp	r3, #2
 216 0096 01D1     		bne	.L3
  76:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            } else {
  77:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                ielistpresent = IEEE154_IELIST_YES; // I will have a timeCorrection IE later
 217              		.loc 1 77 0
 218 0098 0123     		movs	r3, #1
 219 009a BB75     		strb	r3, [r7, #22]
 220              	.L3:
  78:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            }
  79:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        }
  80:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****   }
  81:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
  82:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    if (frameType == IEEE154_TYPE_ACK) {
 221              		.loc 1 82 0
 222 009c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 223 009e 022B     		cmp	r3, #2
 224 00a0 3ED1     		bne	.L5
  83:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        timeCorrection = (int16_t)(ieee154e_getTimeCorrection());
 225              		.loc 1 83 0
 226 00a2 FFF7FEFF 		bl	ieee154e_getTimeCorrection
 227 00a6 0346     		mov	r3, r0
 228 00a8 FB81     		strh	r3, [r7, #14]	@ movhi
  84:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        // add the payload to the ACK (i.e. the timeCorrection)
  85:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        packetfunctions_reserveHeaderSize(msg,sizeof(uint16_t));
 229              		.loc 1 85 0
 230 00aa 0221     		movs	r1, #2
 231 00ac 7868     		ldr	r0, [r7, #4]
 232 00ae FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
  86:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        timeCorrection *= US_PER_TICK;
 233              		.loc 1 86 0
 234 00b2 FB89     		ldrh	r3, [r7, #14]
 235 00b4 1A46     		mov	r2, r3	@ movhi
 236 00b6 1201     		lsls	r2, r2, #4
 237 00b8 D31A     		subs	r3, r2, r3
 238 00ba 5B00     		lsls	r3, r3, #1
 239 00bc 9BB2     		uxth	r3, r3
 240 00be FB81     		strh	r3, [r7, #14]	@ movhi
  87:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        timeSyncInfo  = ((uint16_t)timeCorrection) & 0x0fff;
 241              		.loc 1 87 0
 242 00c0 FB89     		ldrh	r3, [r7, #14]
 243 00c2 C3F30B03 		ubfx	r3, r3, #0, #12
 244 00c6 BB82     		strh	r3, [r7, #20]	@ movhi
  88:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        if (msg->l2_isNegativeACK){
 245              		.loc 1 88 0
 246 00c8 7B68     		ldr	r3, [r7, #4]
 247 00ca 93F8A430 		ldrb	r3, [r3, #164]	@ zero_extendqisi2
 248 00ce 002B     		cmp	r3, #0
 249 00d0 05D0     		beq	.L6
  89:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****           timeSyncInfo |= 0x8000;
 250              		.loc 1 89 0
 251 00d2 BB8A     		ldrh	r3, [r7, #20]	@ movhi
 252 00d4 6FEA4343 		mvn	r3, r3, lsl #17
 253 00d8 6FEA5343 		mvn	r3, r3, lsr #17
 254 00dc BB82     		strh	r3, [r7, #20]	@ movhi
 255              	.L6:
  90:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        }
  91:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        msg->payload[0] = (uint8_t)(((timeSyncInfo)   ) & 0xff);
 256              		.loc 1 91 0
 257 00de 7B68     		ldr	r3, [r7, #4]
 258 00e0 5B68     		ldr	r3, [r3, #4]
 259 00e2 BA8A     		ldrh	r2, [r7, #20]	@ movhi
 260 00e4 D2B2     		uxtb	r2, r2
 261 00e6 1A70     		strb	r2, [r3]
  92:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        msg->payload[1] = (uint8_t)(((timeSyncInfo)>>8) & 0xff);
 262              		.loc 1 92 0
 263 00e8 BB8A     		ldrh	r3, [r7, #20]
 264 00ea 1B0A     		lsrs	r3, r3, #8
 265 00ec 9AB2     		uxth	r2, r3
 266 00ee 7B68     		ldr	r3, [r7, #4]
 267 00f0 5B68     		ldr	r3, [r3, #4]
 268 00f2 0133     		adds	r3, r3, #1
 269 00f4 D2B2     		uxtb	r2, r2
 270 00f6 1A70     		strb	r2, [r3]
  93:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
  94:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        // add header IE header -- xv poipoi -- pkt is filled in reverse order..
  95:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        packetfunctions_reserveHeaderSize(msg,sizeof(uint16_t));
 271              		.loc 1 95 0
 272 00f8 0221     		movs	r1, #2
 273 00fa 7868     		ldr	r0, [r7, #4]
 274 00fc FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
  96:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        //create the header for ack IE
  97:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        length_elementid_type=sizeof(uint16_t)|
 275              		.loc 1 97 0
 276 0100 40F60273 		movw	r3, #3842
 277 0104 BB81     		strh	r3, [r7, #12]	@ movhi
  98:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                              (IEEE802154E_ACK_NACK_TIMECORRECTION_ELEMENTID << IEEE802154E_DESC_ELE
  99:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                              (IEEE802154E_DESC_TYPE_SHORT << IEEE802154E_DESC_TYPE_IE_SHIFT);
 100:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        msg->payload[0] = (length_elementid_type)        & 0xFF;
 278              		.loc 1 100 0
 279 0106 7B68     		ldr	r3, [r7, #4]
 280 0108 5B68     		ldr	r3, [r3, #4]
 281 010a BA89     		ldrh	r2, [r7, #12]	@ movhi
 282 010c D2B2     		uxtb	r2, r2
 283 010e 1A70     		strb	r2, [r3]
 101:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        msg->payload[1] = ((length_elementid_type) >> 8) & 0xFF;
 284              		.loc 1 101 0
 285 0110 BB89     		ldrh	r3, [r7, #12]
 286 0112 1B0A     		lsrs	r3, r3, #8
 287 0114 9AB2     		uxth	r2, r3
 288 0116 7B68     		ldr	r3, [r7, #4]
 289 0118 5B68     		ldr	r3, [r3, #4]
 290 011a 0133     		adds	r3, r3, #1
 291 011c D2B2     		uxtb	r2, r2
 292 011e 1A70     		strb	r2, [r3]
 293              	.L5:
 102:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 103:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 104:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    //if security is enabled, the Auxiliary Security Header need to be added to the IEEE802.15.4 MAC
 105:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    if(securityEnabled){
 294              		.loc 1 105 0
 295 0120 7B7C     		ldrb	r3, [r7, #17]	@ zero_extendqisi2
 296 0122 002B     		cmp	r3, #0
 297 0124 02D0     		beq	.L7
 106:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       IEEE802154_security_prependAuxiliarySecurityHeader(msg);
 298              		.loc 1 106 0
 299 0126 7868     		ldr	r0, [r7, #4]
 300 0128 FFF7FEFF 		bl	IEEE802154_security_prependAuxiliarySecurityHeader
 301              	.L7:
 107:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 108:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 109:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    // previousHop address (always 64-bit)
 110:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    packetfunctions_writeAddress(msg,idmanager_getMyID(ADDR_64B),OW_LITTLE_ENDIAN);
 302              		.loc 1 110 0
 303 012c 0220     		movs	r0, #2
 304 012e FFF7FEFF 		bl	idmanager_getMyID
 305 0132 0346     		mov	r3, r0
 306 0134 0122     		movs	r2, #1
 307 0136 1946     		mov	r1, r3
 308 0138 7868     		ldr	r0, [r7, #4]
 309 013a FFF7FEFF 		bl	packetfunctions_writeAddress
 111:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    // nextHop address
 112:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    if (packetfunctions_isBroadcastMulticast(nextHop)) {
 310              		.loc 1 112 0
 311 013e 386A     		ldr	r0, [r7, #32]
 312 0140 FFF7FEFF 		bl	packetfunctions_isBroadcastMulticast
 313 0144 0346     		mov	r3, r0
 314 0146 002B     		cmp	r3, #0
 315 0148 10D0     		beq	.L8
 113:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       //broadcast address is always 16-bit
 114:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       packetfunctions_reserveHeaderSize(msg,sizeof(uint8_t));
 316              		.loc 1 114 0
 317 014a 0121     		movs	r1, #1
 318 014c 7868     		ldr	r0, [r7, #4]
 319 014e FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 115:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       *((uint8_t*)(msg->payload)) = 0xFF;
 320              		.loc 1 115 0
 321 0152 7B68     		ldr	r3, [r7, #4]
 322 0154 5B68     		ldr	r3, [r3, #4]
 323 0156 FF22     		movs	r2, #255
 324 0158 1A70     		strb	r2, [r3]
 116:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       packetfunctions_reserveHeaderSize(msg,sizeof(uint8_t));
 325              		.loc 1 116 0
 326 015a 0121     		movs	r1, #1
 327 015c 7868     		ldr	r0, [r7, #4]
 328 015e FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 117:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       *((uint8_t*)(msg->payload)) = 0xFF;
 329              		.loc 1 117 0
 330 0162 7B68     		ldr	r3, [r7, #4]
 331 0164 5B68     		ldr	r3, [r3, #4]
 332 0166 FF22     		movs	r2, #255
 333 0168 1A70     		strb	r2, [r3]
 334 016a 12E0     		b	.L9
 335              	.L8:
 118:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    } else {
 119:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       switch (nextHop->type) {
 336              		.loc 1 119 0
 337 016c 3B6A     		ldr	r3, [r7, #32]
 338 016e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 339 0170 013B     		subs	r3, r3, #1
 340 0172 012B     		cmp	r3, #1
 341 0174 05D8     		bhi	.L10
 120:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          case ADDR_16B:
 121:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          case ADDR_64B:
 122:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****             packetfunctions_writeAddress(msg,nextHop,OW_LITTLE_ENDIAN);
 342              		.loc 1 122 0
 343 0176 0122     		movs	r2, #1
 344 0178 396A     		ldr	r1, [r7, #32]
 345 017a 7868     		ldr	r0, [r7, #4]
 346 017c FFF7FEFF 		bl	packetfunctions_writeAddress
 123:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****             break;
 347              		.loc 1 123 0
 348 0180 07E0     		b	.L9
 349              	.L10:
 124:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          default:
 125:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****             openserial_printCritical(COMPONENT_IEEE802154,ERR_WRONG_ADDR_TYPE,
 126:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                   (errorparameter_t)nextHop->type,
 350              		.loc 1 126 0
 351 0182 3B6A     		ldr	r3, [r7, #32]
 352 0184 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 125:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                   (errorparameter_t)nextHop->type,
 353              		.loc 1 125 0
 354 0186 9AB2     		uxth	r2, r3
 355 0188 0123     		movs	r3, #1
 356 018a 3221     		movs	r1, #50
 357 018c 0820     		movs	r0, #8
 358 018e FFF7FEFF 		bl	openserial_printCritical
 359              	.L9:
 127:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                   (errorparameter_t)1);
 128:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       }
 129:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 130:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 131:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 132:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    msg->l2_nextHop_payload = msg->payload;
 360              		.loc 1 132 0
 361 0192 7B68     		ldr	r3, [r7, #4]
 362 0194 5A68     		ldr	r2, [r3, #4]
 363 0196 7B68     		ldr	r3, [r7, #4]
 364 0198 C3F89C20 		str	r2, [r3, #156]
 133:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 134:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    // destpan -- se page 41 of 15.4-2011 std. DEST PANID only sent as it is equal to SRC PANID
 135:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    packetfunctions_writeAddress(msg,idmanager_getMyID(ADDR_PANID),OW_LITTLE_ENDIAN);
 365              		.loc 1 135 0
 366 019c 0420     		movs	r0, #4
 367 019e FFF7FEFF 		bl	idmanager_getMyID
 368 01a2 0346     		mov	r3, r0
 369 01a4 0122     		movs	r2, #1
 370 01a6 1946     		mov	r1, r3
 371 01a8 7868     		ldr	r0, [r7, #4]
 372 01aa FFF7FEFF 		bl	packetfunctions_writeAddress
 136:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 137:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    //dsn
 138:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    packetfunctions_reserveHeaderSize(msg,sizeof(uint8_t));
 373              		.loc 1 138 0
 374 01ae 0121     		movs	r1, #1
 375 01b0 7868     		ldr	r0, [r7, #4]
 376 01b2 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 139:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    *((uint8_t*)(msg->payload)) = sequenceNumber;
 377              		.loc 1 139 0
 378 01b6 7B68     		ldr	r3, [r7, #4]
 379 01b8 5B68     		ldr	r3, [r3, #4]
 380 01ba 7A78     		ldrb	r2, [r7, #1]
 381 01bc 1A70     		strb	r2, [r3]
 140:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 141:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    //fcf (2nd byte)
 142:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    packetfunctions_reserveHeaderSize(msg,sizeof(uint8_t));
 382              		.loc 1 142 0
 383 01be 0121     		movs	r1, #1
 384 01c0 7868     		ldr	r0, [r7, #4]
 385 01c2 FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 143:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    temp_8b              = 0;
 386              		.loc 1 143 0
 387 01c6 0023     		movs	r3, #0
 388 01c8 FB75     		strb	r3, [r7, #23]
 144:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    if (packetfunctions_isBroadcastMulticast(nextHop)) {
 389              		.loc 1 144 0
 390 01ca 386A     		ldr	r0, [r7, #32]
 391 01cc FFF7FEFF 		bl	packetfunctions_isBroadcastMulticast
 392 01d0 0346     		mov	r3, r0
 393 01d2 002B     		cmp	r3, #0
 394 01d4 06D0     		beq	.L12
 145:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       temp_8b          |= IEEE154_ADDR_SHORT              << IEEE154_FCF_DEST_ADDR_MODE;
 395              		.loc 1 145 0
 396 01d6 FB7D     		ldrb	r3, [r7, #23]
 397 01d8 43F00803 		orr	r3, r3, #8
 398 01dc FB75     		strb	r3, [r7, #23]
 146:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       destAddrMode      = IEEE154_ADDR_SHORT;
 399              		.loc 1 146 0
 400 01de 0223     		movs	r3, #2
 401 01e0 FB74     		strb	r3, [r7, #19]
 402 01e2 14E0     		b	.L13
 403              	.L12:
 147:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    } else {
 148:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       switch (nextHop->type) {
 404              		.loc 1 148 0
 405 01e4 3B6A     		ldr	r3, [r7, #32]
 406 01e6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 407 01e8 012B     		cmp	r3, #1
 408 01ea 02D0     		beq	.L14
 409 01ec 022B     		cmp	r3, #2
 410 01ee 07D0     		beq	.L15
 411 01f0 0DE0     		b	.L13
 412              	.L14:
 149:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          case ADDR_16B:
 150:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****             temp_8b    |= IEEE154_ADDR_SHORT              << IEEE154_FCF_DEST_ADDR_MODE;
 413              		.loc 1 150 0
 414 01f2 FB7D     		ldrb	r3, [r7, #23]
 415 01f4 43F00803 		orr	r3, r3, #8
 416 01f8 FB75     		strb	r3, [r7, #23]
 151:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****             destAddrMode= IEEE154_ADDR_SHORT;
 417              		.loc 1 151 0
 418 01fa 0223     		movs	r3, #2
 419 01fc FB74     		strb	r3, [r7, #19]
 152:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****             break;
 420              		.loc 1 152 0
 421 01fe 06E0     		b	.L13
 422              	.L15:
 153:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          case ADDR_64B:
 154:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****             temp_8b    |= IEEE154_ADDR_EXT                << IEEE154_FCF_DEST_ADDR_MODE;
 423              		.loc 1 154 0
 424 0200 FB7D     		ldrb	r3, [r7, #23]
 425 0202 43F00C03 		orr	r3, r3, #12
 426 0206 FB75     		strb	r3, [r7, #23]
 155:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****             destAddrMode= IEEE154_ADDR_EXT;
 427              		.loc 1 155 0
 428 0208 0323     		movs	r3, #3
 429 020a FB74     		strb	r3, [r7, #19]
 156:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****             break;
 430              		.loc 1 156 0
 431 020c 00BF     		nop
 432              	.L13:
 157:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          // no need for a default, since it would have been caught above.
 158:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       }
 159:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 160:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    temp_8b             |= IEEE154_ADDR_EXT                << IEEE154_FCF_SRC_ADDR_MODE;
 433              		.loc 1 160 0
 434 020e FB7D     		ldrb	r3, [r7, #23]
 435 0210 63F03F03 		orn	r3, r3, #63
 436 0214 FB75     		strb	r3, [r7, #23]
 161:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    //poipoi xv IE list present
 162:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    temp_8b             |= ielistpresent                   << IEEE154_FCF_IELIST_PRESENT;
 437              		.loc 1 162 0
 438 0216 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 439 0218 5B00     		lsls	r3, r3, #1
 440 021a 5AB2     		sxtb	r2, r3
 441 021c 97F91730 		ldrsb	r3, [r7, #23]
 442 0220 1343     		orrs	r3, r3, r2
 443 0222 5BB2     		sxtb	r3, r3
 444 0224 FB75     		strb	r3, [r7, #23]
 163:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    temp_8b             |= IEEE154_FRAMEVERSION_2012       << IEEE154_FCF_FRAME_VERSION;
 445              		.loc 1 163 0
 446 0226 FB7D     		ldrb	r3, [r7, #23]
 447 0228 43F02003 		orr	r3, r3, #32
 448 022c FB75     		strb	r3, [r7, #23]
 164:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    temp_8b             |= IEEE154_DSN_SUPPRESSION_NO      << IEEE154_FCF_DSN_SUPPRESSION;
 165:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 166:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    *((uint8_t*)(msg->payload)) = temp_8b;
 449              		.loc 1 166 0
 450 022e 7B68     		ldr	r3, [r7, #4]
 451 0230 5B68     		ldr	r3, [r3, #4]
 452 0232 FA7D     		ldrb	r2, [r7, #23]
 453 0234 1A70     		strb	r2, [r3]
 167:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    //fcf (1st byte)
 168:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    packetfunctions_reserveHeaderSize(msg,sizeof(uint8_t));
 454              		.loc 1 168 0
 455 0236 0121     		movs	r1, #1
 456 0238 7868     		ldr	r0, [r7, #4]
 457 023a FFF7FEFF 		bl	packetfunctions_reserveHeaderSize
 169:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    temp_8b              = 0;
 458              		.loc 1 169 0
 459 023e 0023     		movs	r3, #0
 460 0240 FB75     		strb	r3, [r7, #23]
 170:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    temp_8b             |= frameType                       << IEEE154_FCF_FRAME_TYPE;
 461              		.loc 1 170 0
 462 0242 FA7D     		ldrb	r2, [r7, #23]
 463 0244 FB78     		ldrb	r3, [r7, #3]
 464 0246 1343     		orrs	r3, r3, r2
 465 0248 FB75     		strb	r3, [r7, #23]
 171:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    temp_8b             |= securityEnabled                 << IEEE154_FCF_SECURITY_ENABLED;
 466              		.loc 1 171 0
 467 024a 7B7C     		ldrb	r3, [r7, #17]	@ zero_extendqisi2
 468 024c DB00     		lsls	r3, r3, #3
 469 024e 5AB2     		sxtb	r2, r3
 470 0250 97F91730 		ldrsb	r3, [r7, #23]
 471 0254 1343     		orrs	r3, r3, r2
 472 0256 5BB2     		sxtb	r3, r3
 473 0258 FB75     		strb	r3, [r7, #23]
 172:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    temp_8b             |= IEEE154_PENDING_NO_FRAMEPENDING << IEEE154_FCF_FRAME_PENDING;
 173:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    if (frameType==IEEE154_TYPE_ACK || packetfunctions_isBroadcastMulticast(nextHop)) {
 474              		.loc 1 173 0
 475 025a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 476 025c 022B     		cmp	r3, #2
 477 025e 0AD0     		beq	.L21
 478              		.loc 1 173 0 is_stmt 0 discriminator 1
 479 0260 386A     		ldr	r0, [r7, #32]
 480 0262 FFF7FEFF 		bl	packetfunctions_isBroadcastMulticast
 481 0266 0346     		mov	r3, r0
 482 0268 002B     		cmp	r3, #0
 483 026a 04D1     		bne	.L21
 174:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       temp_8b          |= IEEE154_ACK_NO_ACK_REQ          << IEEE154_FCF_ACK_REQ;
 175:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    } else {
 176:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       temp_8b          |= IEEE154_ACK_YES_ACK_REQ         << IEEE154_FCF_ACK_REQ;
 484              		.loc 1 176 0 is_stmt 1
 485 026c FB7D     		ldrb	r3, [r7, #23]
 486 026e 43F02003 		orr	r3, r3, #32
 487 0272 FB75     		strb	r3, [r7, #23]
 488 0274 00E0     		b	.L18
 489              	.L21:
 174:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       temp_8b          |= IEEE154_ACK_NO_ACK_REQ          << IEEE154_FCF_ACK_REQ;
 490              		.loc 1 174 0
 491 0276 00BF     		nop
 492              	.L18:
 177:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 178:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    if (destAddrMode == IEEE154_ADDR_SHORT) {
 493              		.loc 1 178 0
 494 0278 FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 495 027a 022B     		cmp	r3, #2
 496 027c 04D1     		bne	.L19
 179:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        temp_8b         |= IEEE154_PANID_COMPRESSED        << IEEE154_FCF_INTRAPAN;
 497              		.loc 1 179 0
 498 027e FB7D     		ldrb	r3, [r7, #23]
 499 0280 43F04003 		orr	r3, r3, #64
 500 0284 FB75     		strb	r3, [r7, #23]
 501 0286 01E0     		b	.L20
 502              	.L19:
 180:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    } else {
 181:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        if (destAddrMode == IEEE154_ADDR_EXT) {
 503              		.loc 1 181 0
 504 0288 FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 505 028a 032B     		cmp	r3, #3
 506              	.L20:
 182:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            temp_8b     |= IEEE154_PANID_UNCOMPRESSED      << IEEE154_FCF_INTRAPAN;
 183:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        } else {
 184:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            // never happens
 185:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        }
 186:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 187:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    *((uint8_t*)(msg->payload)) = temp_8b;
 507              		.loc 1 187 0
 508 028c 7B68     		ldr	r3, [r7, #4]
 509 028e 5B68     		ldr	r3, [r3, #4]
 510 0290 FA7D     		ldrb	r2, [r7, #23]
 511 0292 1A70     		strb	r2, [r3]
 188:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** }
 512              		.loc 1 188 0
 513 0294 00BF     		nop
 514 0296 1837     		adds	r7, r7, #24
 515              		.cfi_def_cfa_offset 8
 516 0298 BD46     		mov	sp, r7
 517              		.cfi_def_cfa_register 13
 518              		@ sp needed
 519 029a 80BD     		pop	{r7, pc}
 520              		.cfi_endproc
 521              	.LFE3:
 523              		.align	1
 524              		.global	ieee802154_retrieveHeader
 525              		.syntax unified
 526              		.thumb
 527              		.thumb_func
 528              		.fpu softvfp
 530              	ieee802154_retrieveHeader:
 531              	.LFB4:
 189:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 190:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** /**
 191:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** \brief Retreieve the IEEE802.15.4 MAC header from a (just received) packet.
 192:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 193:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** Note We are writing the fields from the begnning of the header to the end.
 194:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 195:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** \param[in,out] msg            The message just received.
 196:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** \param[out] ieee802514_header The internal header to write the data to.
 197:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** */
 198:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** void ieee802154_retrieveHeader(OpenQueueEntry_t*      msg,
 199:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                ieee802154_header_iht* ieee802514_header) {
 532              		.loc 1 199 0
 533              		.cfi_startproc
 534              		@ args = 0, pretend = 0, frame = 24
 535              		@ frame_needed = 1, uses_anonymous_args = 0
 536 029c 80B5     		push	{r7, lr}
 537              		.cfi_def_cfa_offset 8
 538              		.cfi_offset 7, -8
 539              		.cfi_offset 14, -4
 540 029e 86B0     		sub	sp, sp, #24
 541              		.cfi_def_cfa_offset 32
 542 02a0 00AF     		add	r7, sp, #0
 543              		.cfi_def_cfa_register 7
 544 02a2 7860     		str	r0, [r7, #4]
 545 02a4 3960     		str	r1, [r7]
 200:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    uint8_t  temp_8b;
 201:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    uint16_t temp_16b;
 202:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    uint16_t len;
 203:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    uint8_t  gr_elem_id;
 204:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    uint8_t  byte0;
 205:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    uint8_t  byte1;
 206:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    int16_t  timeCorrection;
 207:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    uint16_t timeSyncInfo;
 208:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    // by default, let's assume the header is not valid, in case we leave this
 209:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    // function because the packet ends up being shorter than the header.
 210:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    ieee802514_header->valid=FALSE;
 546              		.loc 1 210 0
 547 02a6 3B68     		ldr	r3, [r7]
 548 02a8 0022     		movs	r2, #0
 549 02aa 1A70     		strb	r2, [r3]
 211:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 212:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    ieee802514_header->headerLength = 0;
 550              		.loc 1 212 0
 551 02ac 3B68     		ldr	r3, [r7]
 552 02ae 0022     		movs	r2, #0
 553 02b0 5A70     		strb	r2, [r3, #1]
 213:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    // fcf, byte 1
 214:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    if (ieee802514_header->headerLength>msg->length) { return; } // no more to read!
 554              		.loc 1 214 0
 555 02b2 3B68     		ldr	r3, [r7]
 556 02b4 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 557 02b6 7B68     		ldr	r3, [r7, #4]
 558 02b8 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 559 02ba 9A42     		cmp	r2, r3
 560 02bc 00F24B82 		bhi	.L71
 215:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    temp_8b = *((uint8_t*)(msg->payload)+ieee802514_header->headerLength);
 561              		.loc 1 215 0
 562 02c0 7B68     		ldr	r3, [r7, #4]
 563 02c2 5B68     		ldr	r3, [r3, #4]
 564 02c4 3A68     		ldr	r2, [r7]
 565 02c6 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 566 02c8 1344     		add	r3, r3, r2
 567 02ca 1B78     		ldrb	r3, [r3]
 568 02cc 7B75     		strb	r3, [r7, #21]
 216:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    ieee802514_header->frameType         = (temp_8b >> IEEE154_FCF_FRAME_TYPE      ) & 0x07;//3b
 569              		.loc 1 216 0
 570 02ce 7B7D     		ldrb	r3, [r7, #21]
 571 02d0 03F00703 		and	r3, r3, #7
 572 02d4 DAB2     		uxtb	r2, r3
 573 02d6 3B68     		ldr	r3, [r7]
 574 02d8 9A70     		strb	r2, [r3, #2]
 217:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    ieee802514_header->securityEnabled   = (temp_8b >> IEEE154_FCF_SECURITY_ENABLED) & 0x01;//1b
 575              		.loc 1 217 0
 576 02da 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 577 02dc DB08     		lsrs	r3, r3, #3
 578 02de DBB2     		uxtb	r3, r3
 579 02e0 03F00103 		and	r3, r3, #1
 580 02e4 002B     		cmp	r3, #0
 581 02e6 14BF     		ite	ne
 582 02e8 0123     		movne	r3, #1
 583 02ea 0023     		moveq	r3, #0
 584 02ec DAB2     		uxtb	r2, r3
 585 02ee 3B68     		ldr	r3, [r7]
 586 02f0 DA70     		strb	r2, [r3, #3]
 218:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    ieee802514_header->framePending      = (temp_8b >> IEEE154_FCF_FRAME_PENDING   ) & 0x01;//1b
 587              		.loc 1 218 0
 588 02f2 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 589 02f4 1B09     		lsrs	r3, r3, #4
 590 02f6 DBB2     		uxtb	r3, r3
 591 02f8 03F00103 		and	r3, r3, #1
 592 02fc 002B     		cmp	r3, #0
 593 02fe 14BF     		ite	ne
 594 0300 0123     		movne	r3, #1
 595 0302 0023     		moveq	r3, #0
 596 0304 DAB2     		uxtb	r2, r3
 597 0306 3B68     		ldr	r3, [r7]
 598 0308 1A71     		strb	r2, [r3, #4]
 219:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    ieee802514_header->ackRequested      = (temp_8b >> IEEE154_FCF_ACK_REQ         ) & 0x01;//1b
 599              		.loc 1 219 0
 600 030a 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 601 030c 5B09     		lsrs	r3, r3, #5
 602 030e DBB2     		uxtb	r3, r3
 603 0310 03F00103 		and	r3, r3, #1
 604 0314 002B     		cmp	r3, #0
 605 0316 14BF     		ite	ne
 606 0318 0123     		movne	r3, #1
 607 031a 0023     		moveq	r3, #0
 608 031c DAB2     		uxtb	r2, r3
 609 031e 3B68     		ldr	r3, [r7]
 610 0320 5A71     		strb	r2, [r3, #5]
 220:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    ieee802514_header->panIDCompression  = (temp_8b >> IEEE154_FCF_INTRAPAN        ) & 0x01;//1b
 611              		.loc 1 220 0
 612 0322 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 613 0324 9B09     		lsrs	r3, r3, #6
 614 0326 DBB2     		uxtb	r3, r3
 615 0328 03F00103 		and	r3, r3, #1
 616 032c 002B     		cmp	r3, #0
 617 032e 14BF     		ite	ne
 618 0330 0123     		movne	r3, #1
 619 0332 0023     		moveq	r3, #0
 620 0334 DAB2     		uxtb	r2, r3
 621 0336 3B68     		ldr	r3, [r7]
 622 0338 9A71     		strb	r2, [r3, #6]
 221:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    ieee802514_header->headerLength += 1;
 623              		.loc 1 221 0
 624 033a 3B68     		ldr	r3, [r7]
 625 033c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 626 033e 0133     		adds	r3, r3, #1
 627 0340 DAB2     		uxtb	r2, r3
 628 0342 3B68     		ldr	r3, [r7]
 629 0344 5A70     		strb	r2, [r3, #1]
 222:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    // fcf, byte 2
 223:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    if (ieee802514_header->headerLength>msg->length) { return; } // no more to read!
 630              		.loc 1 223 0
 631 0346 3B68     		ldr	r3, [r7]
 632 0348 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 633 034a 7B68     		ldr	r3, [r7, #4]
 634 034c 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 635 034e 9A42     		cmp	r2, r3
 636 0350 00F20382 		bhi	.L72
 224:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    temp_8b = *((uint8_t*)(msg->payload)+ieee802514_header->headerLength);
 637              		.loc 1 224 0
 638 0354 7B68     		ldr	r3, [r7, #4]
 639 0356 5B68     		ldr	r3, [r3, #4]
 640 0358 3A68     		ldr	r2, [r7]
 641 035a 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 642 035c 1344     		add	r3, r3, r2
 643 035e 1B78     		ldrb	r3, [r3]
 644 0360 7B75     		strb	r3, [r7, #21]
 225:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    //poipoi xv IE list present
 226:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    ieee802514_header->ieListPresent  = (temp_8b >> IEEE154_FCF_IELIST_PRESENT     ) & 0x01;//1b
 645              		.loc 1 226 0
 646 0362 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 647 0364 5B08     		lsrs	r3, r3, #1
 648 0366 DBB2     		uxtb	r3, r3
 649 0368 03F00103 		and	r3, r3, #1
 650 036c 002B     		cmp	r3, #0
 651 036e 14BF     		ite	ne
 652 0370 0123     		movne	r3, #1
 653 0372 0023     		moveq	r3, #0
 654 0374 DAB2     		uxtb	r2, r3
 655 0376 3B68     		ldr	r3, [r7]
 656 0378 DA71     		strb	r2, [r3, #7]
 227:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    ieee802514_header->frameVersion   = (temp_8b >> IEEE154_FCF_FRAME_VERSION      ) & 0x03;//2b
 657              		.loc 1 227 0
 658 037a 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 659 037c 1B09     		lsrs	r3, r3, #4
 660 037e DBB2     		uxtb	r3, r3
 661 0380 03F00303 		and	r3, r3, #3
 662 0384 DAB2     		uxtb	r2, r3
 663 0386 3B68     		ldr	r3, [r7]
 664 0388 1A72     		strb	r2, [r3, #8]
 228:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    ieee802514_header->dsn_suppressed = (temp_8b >> IEEE154_FCF_DSN_SUPPRESSION    ) & 0x01;//1b
 665              		.loc 1 228 0
 666 038a 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 667 038c 03F00103 		and	r3, r3, #1
 668 0390 002B     		cmp	r3, #0
 669 0392 14BF     		ite	ne
 670 0394 0123     		movne	r3, #1
 671 0396 0023     		moveq	r3, #0
 672 0398 DAB2     		uxtb	r2, r3
 673 039a 3B68     		ldr	r3, [r7]
 674 039c 9A72     		strb	r2, [r3, #10]
 229:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 230:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    if (ieee802514_header->ieListPresent==TRUE && ieee802514_header->frameVersion!=IEEE154_FRAMEVERS
 675              		.loc 1 230 0
 676 039e 3B68     		ldr	r3, [r7]
 677 03a0 DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 678 03a2 002B     		cmp	r3, #0
 679 03a4 04D0     		beq	.L26
 680              		.loc 1 230 0 is_stmt 0 discriminator 1
 681 03a6 3B68     		ldr	r3, [r7]
 682 03a8 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 683 03aa 022B     		cmp	r3, #2
 684 03ac 40F0D781 		bne	.L73
 685              	.L26:
 231:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        return; //invalid packet accordint to p.64 IEEE15.4e
 232:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 233:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 234:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    switch ( (temp_8b >> IEEE154_FCF_DEST_ADDR_MODE ) & 0x03 ) {
 686              		.loc 1 234 0 is_stmt 1
 687 03b0 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 688 03b2 9B08     		lsrs	r3, r3, #2
 689 03b4 DBB2     		uxtb	r3, r3
 690 03b6 03F00303 		and	r3, r3, #3
 691 03ba 022B     		cmp	r3, #2
 692 03bc 07D0     		beq	.L28
 693 03be 032B     		cmp	r3, #3
 694 03c0 09D0     		beq	.L29
 695 03c2 002B     		cmp	r3, #0
 696 03c4 0BD1     		bne	.L69
 235:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       case IEEE154_ADDR_NONE:
 236:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          ieee802514_header->dest.type = ADDR_NONE;
 697              		.loc 1 236 0
 698 03c6 3B68     		ldr	r3, [r7]
 699 03c8 0022     		movs	r2, #0
 700 03ca 1A77     		strb	r2, [r3, #28]
 237:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          break;
 701              		.loc 1 237 0
 702 03cc 14E0     		b	.L31
 703              	.L28:
 238:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       case IEEE154_ADDR_SHORT:
 239:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          ieee802514_header->dest.type = ADDR_16B;
 704              		.loc 1 239 0
 705 03ce 3B68     		ldr	r3, [r7]
 706 03d0 0122     		movs	r2, #1
 707 03d2 1A77     		strb	r2, [r3, #28]
 240:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          break;
 708              		.loc 1 240 0
 709 03d4 10E0     		b	.L31
 710              	.L29:
 241:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       case IEEE154_ADDR_EXT:
 242:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          ieee802514_header->dest.type = ADDR_64B;
 711              		.loc 1 242 0
 712 03d6 3B68     		ldr	r3, [r7]
 713 03d8 0222     		movs	r2, #2
 714 03da 1A77     		strb	r2, [r3, #28]
 243:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          break;
 715              		.loc 1 243 0
 716 03dc 0CE0     		b	.L31
 717              	.L69:
 244:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       default:
 245:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          openserial_printError(COMPONENT_IEEE802154,ERR_IEEE154_UNSUPPORTED,
 246:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                (errorparameter_t)1,
 247:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                (errorparameter_t)(temp_8b >> IEEE154_FCF_DEST_ADDR_MODE ) & 0x03);
 718              		.loc 1 247 0
 719 03de 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 720 03e0 9B08     		lsrs	r3, r3, #2
 721 03e2 DBB2     		uxtb	r3, r3
 722 03e4 9BB2     		uxth	r3, r3
 245:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                (errorparameter_t)1,
 723              		.loc 1 245 0
 724 03e6 03F00303 		and	r3, r3, #3
 725 03ea 9BB2     		uxth	r3, r3
 726 03ec 0122     		movs	r2, #1
 727 03ee 1A21     		movs	r1, #26
 728 03f0 0820     		movs	r0, #8
 729 03f2 FFF7FEFF 		bl	openserial_printError
 248:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          return; // this is an invalid packet, return
 730              		.loc 1 248 0
 731 03f6 C5E1     		b	.L22
 732              	.L31:
 249:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 250:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    switch ( (temp_8b >> IEEE154_FCF_SRC_ADDR_MODE ) & 0x03 ) {
 733              		.loc 1 250 0
 734 03f8 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 735 03fa 9B09     		lsrs	r3, r3, #6
 736 03fc DBB2     		uxtb	r3, r3
 737 03fe 03F00303 		and	r3, r3, #3
 738 0402 022B     		cmp	r3, #2
 739 0404 08D0     		beq	.L33
 740 0406 032B     		cmp	r3, #3
 741 0408 0BD0     		beq	.L34
 742 040a 002B     		cmp	r3, #0
 743 040c 0ED1     		bne	.L70
 251:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       case IEEE154_ADDR_NONE:
 252:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          ieee802514_header->src.type = ADDR_NONE;
 744              		.loc 1 252 0
 745 040e 3B68     		ldr	r3, [r7]
 746 0410 0022     		movs	r2, #0
 747 0412 83F82D20 		strb	r2, [r3, #45]
 253:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          break;
 748              		.loc 1 253 0
 749 0416 16E0     		b	.L36
 750              	.L33:
 254:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       case IEEE154_ADDR_SHORT:
 255:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          ieee802514_header->src.type = ADDR_16B;
 751              		.loc 1 255 0
 752 0418 3B68     		ldr	r3, [r7]
 753 041a 0122     		movs	r2, #1
 754 041c 83F82D20 		strb	r2, [r3, #45]
 256:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          break;
 755              		.loc 1 256 0
 756 0420 11E0     		b	.L36
 757              	.L34:
 257:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       case IEEE154_ADDR_EXT:
 258:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          ieee802514_header->src.type = ADDR_64B;
 758              		.loc 1 258 0
 759 0422 3B68     		ldr	r3, [r7]
 760 0424 0222     		movs	r2, #2
 761 0426 83F82D20 		strb	r2, [r3, #45]
 259:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          break;
 762              		.loc 1 259 0
 763 042a 0CE0     		b	.L36
 764              	.L70:
 260:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       default:
 261:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          openserial_printError(COMPONENT_IEEE802154,ERR_IEEE154_UNSUPPORTED,
 262:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                (errorparameter_t)2,
 263:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                (errorparameter_t)(temp_8b >> IEEE154_FCF_SRC_ADDR_MODE ) & 0x03);
 765              		.loc 1 263 0
 766 042c 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 767 042e 9B09     		lsrs	r3, r3, #6
 768 0430 DBB2     		uxtb	r3, r3
 769 0432 9BB2     		uxth	r3, r3
 261:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                (errorparameter_t)2,
 770              		.loc 1 261 0
 771 0434 03F00303 		and	r3, r3, #3
 772 0438 9BB2     		uxth	r3, r3
 773 043a 0222     		movs	r2, #2
 774 043c 1A21     		movs	r1, #26
 775 043e 0820     		movs	r0, #8
 776 0440 FFF7FEFF 		bl	openserial_printError
 264:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          return; // this is an invalid packet, return
 777              		.loc 1 264 0
 778 0444 9EE1     		b	.L22
 779              	.L36:
 265:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 266:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    ieee802514_header->headerLength += 1;
 780              		.loc 1 266 0
 781 0446 3B68     		ldr	r3, [r7]
 782 0448 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 783 044a 0133     		adds	r3, r3, #1
 784 044c DAB2     		uxtb	r2, r3
 785 044e 3B68     		ldr	r3, [r7]
 786 0450 5A70     		strb	r2, [r3, #1]
 267:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 268:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    if (ieee802514_header->dsn_suppressed==FALSE) {
 787              		.loc 1 268 0
 788 0452 3B68     		ldr	r3, [r7]
 789 0454 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 790 0456 83F00103 		eor	r3, r3, #1
 791 045a DBB2     		uxtb	r3, r3
 792 045c 002B     		cmp	r3, #0
 793 045e 14D0     		beq	.L37
 269:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        // sequenceNumber
 270:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        if (ieee802514_header->headerLength>msg->length) { return; } // no more to read!
 794              		.loc 1 270 0
 795 0460 3B68     		ldr	r3, [r7]
 796 0462 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 797 0464 7B68     		ldr	r3, [r7, #4]
 798 0466 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 799 0468 9A42     		cmp	r2, r3
 800 046a 00F27A81 		bhi	.L74
 271:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        ieee802514_header->dsn  = *((uint8_t*)(msg->payload)+ieee802514_header->headerLength);
 801              		.loc 1 271 0
 802 046e 7B68     		ldr	r3, [r7, #4]
 803 0470 5B68     		ldr	r3, [r3, #4]
 804 0472 3A68     		ldr	r2, [r7]
 805 0474 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 806 0476 1344     		add	r3, r3, r2
 807 0478 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 808 047a 3B68     		ldr	r3, [r7]
 809 047c 5A72     		strb	r2, [r3, #9]
 272:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        ieee802514_header->headerLength += 1;
 810              		.loc 1 272 0
 811 047e 3B68     		ldr	r3, [r7]
 812 0480 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 813 0482 0133     		adds	r3, r3, #1
 814 0484 DAB2     		uxtb	r2, r3
 815 0486 3B68     		ldr	r3, [r7]
 816 0488 5A70     		strb	r2, [r3, #1]
 817              	.L37:
 273:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 274:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 275:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    // panID
 276:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    if (ieee802514_header->headerLength>msg->length) { return; } // no more to read!
 818              		.loc 1 276 0
 819 048a 3B68     		ldr	r3, [r7]
 820 048c 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 821 048e 7B68     		ldr	r3, [r7, #4]
 822 0490 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 823 0492 9A42     		cmp	r2, r3
 824 0494 00F26781 		bhi	.L75
 277:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    packetfunctions_readAddress(((uint8_t*)(msg->payload)+ieee802514_header->headerLength),
 825              		.loc 1 277 0
 826 0498 7B68     		ldr	r3, [r7, #4]
 827 049a 5B68     		ldr	r3, [r3, #4]
 828 049c 3A68     		ldr	r2, [r7]
 829 049e 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 830 04a0 9818     		adds	r0, r3, r2
 831 04a2 3B68     		ldr	r3, [r7]
 832 04a4 03F10B02 		add	r2, r3, #11
 833 04a8 0123     		movs	r3, #1
 834 04aa 0421     		movs	r1, #4
 835 04ac FFF7FEFF 		bl	packetfunctions_readAddress
 278:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                ADDR_PANID,
 279:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                &ieee802514_header->panid,
 280:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                OW_LITTLE_ENDIAN);
 281:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    ieee802514_header->headerLength += 2;
 836              		.loc 1 281 0
 837 04b0 3B68     		ldr	r3, [r7]
 838 04b2 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 839 04b4 0233     		adds	r3, r3, #2
 840 04b6 DAB2     		uxtb	r2, r3
 841 04b8 3B68     		ldr	r3, [r7]
 842 04ba 5A70     		strb	r2, [r3, #1]
 282:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    // dest
 283:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    if (ieee802514_header->headerLength>msg->length) { return; } // no more to read!
 843              		.loc 1 283 0
 844 04bc 3B68     		ldr	r3, [r7]
 845 04be 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 846 04c0 7B68     		ldr	r3, [r7, #4]
 847 04c2 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 848 04c4 9A42     		cmp	r2, r3
 849 04c6 00F25081 		bhi	.L76
 284:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    switch (ieee802514_header->dest.type) {
 850              		.loc 1 284 0
 851 04ca 3B68     		ldr	r3, [r7]
 852 04cc 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 853 04ce 012B     		cmp	r3, #1
 854 04d0 03D0     		beq	.L42
 855 04d2 022B     		cmp	r3, #2
 856 04d4 1AD0     		beq	.L43
 857 04d6 002B     		cmp	r3, #0
 285:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       case ADDR_NONE:
 286:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          break;
 858              		.loc 1 286 0
 859 04d8 33E0     		b	.L41
 860              	.L42:
 287:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       case ADDR_16B:
 288:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          packetfunctions_readAddress(
 289:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****              ((uint8_t*)(msg->payload)+ieee802514_header->headerLength),
 861              		.loc 1 289 0
 862 04da 7B68     		ldr	r3, [r7, #4]
 863 04dc 5B68     		ldr	r3, [r3, #4]
 864 04de 3A68     		ldr	r2, [r7]
 865 04e0 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 288:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****              ((uint8_t*)(msg->payload)+ieee802514_header->headerLength),
 866              		.loc 1 288 0
 867 04e2 9818     		adds	r0, r3, r2
 868 04e4 3B68     		ldr	r3, [r7]
 869 04e6 03F11C02 		add	r2, r3, #28
 870 04ea 0123     		movs	r3, #1
 871 04ec 0121     		movs	r1, #1
 872 04ee FFF7FEFF 		bl	packetfunctions_readAddress
 290:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****              ADDR_16B,
 291:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****              &ieee802514_header->dest,
 292:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****              OW_LITTLE_ENDIAN
 293:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          );
 294:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          ieee802514_header->headerLength += 2;
 873              		.loc 1 294 0
 874 04f2 3B68     		ldr	r3, [r7]
 875 04f4 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 876 04f6 0233     		adds	r3, r3, #2
 877 04f8 DAB2     		uxtb	r2, r3
 878 04fa 3B68     		ldr	r3, [r7]
 879 04fc 5A70     		strb	r2, [r3, #1]
 295:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          if (ieee802514_header->headerLength>msg->length) {  return; } // no more to read!
 880              		.loc 1 295 0
 881 04fe 3B68     		ldr	r3, [r7]
 882 0500 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 883 0502 7B68     		ldr	r3, [r7, #4]
 884 0504 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 885 0506 9A42     		cmp	r2, r3
 886 0508 1AD9     		bls	.L77
 887 050a 3BE1     		b	.L22
 888              	.L43:
 296:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          break;
 297:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       case ADDR_64B:
 298:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          packetfunctions_readAddress(((uint8_t*)(msg->payload)+ieee802514_header->headerLength),
 889              		.loc 1 298 0
 890 050c 7B68     		ldr	r3, [r7, #4]
 891 050e 5B68     		ldr	r3, [r3, #4]
 892 0510 3A68     		ldr	r2, [r7]
 893 0512 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 894 0514 9818     		adds	r0, r3, r2
 895 0516 3B68     		ldr	r3, [r7]
 896 0518 03F11C02 		add	r2, r3, #28
 897 051c 0123     		movs	r3, #1
 898 051e 0221     		movs	r1, #2
 899 0520 FFF7FEFF 		bl	packetfunctions_readAddress
 299:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                      ADDR_64B,
 300:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                      &ieee802514_header->dest,
 301:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                      OW_LITTLE_ENDIAN);
 302:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          ieee802514_header->headerLength += 8;
 900              		.loc 1 302 0
 901 0524 3B68     		ldr	r3, [r7]
 902 0526 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 903 0528 0833     		adds	r3, r3, #8
 904 052a DAB2     		uxtb	r2, r3
 905 052c 3B68     		ldr	r3, [r7]
 906 052e 5A70     		strb	r2, [r3, #1]
 303:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          if (ieee802514_header->headerLength>msg->length) {  return; } // no more to read!
 907              		.loc 1 303 0
 908 0530 3B68     		ldr	r3, [r7]
 909 0532 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 910 0534 7B68     		ldr	r3, [r7, #4]
 911 0536 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 912 0538 9A42     		cmp	r2, r3
 913 053a 00F21881 		bhi	.L78
 304:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          break;
 914              		.loc 1 304 0
 915 053e 00E0     		b	.L41
 916              	.L77:
 296:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       case ADDR_64B:
 917              		.loc 1 296 0
 918 0540 00BF     		nop
 919              	.L41:
 305:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       // no need for a default, since case would have been caught above
 306:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 307:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    //src
 308:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    switch (ieee802514_header->src.type) {
 920              		.loc 1 308 0
 921 0542 3B68     		ldr	r3, [r7]
 922 0544 93F82D30 		ldrb	r3, [r3, #45]	@ zero_extendqisi2
 923 0548 012B     		cmp	r3, #1
 924 054a 03D0     		beq	.L48
 925 054c 022B     		cmp	r3, #2
 926 054e 1AD0     		beq	.L49
 927 0550 002B     		cmp	r3, #0
 309:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       case ADDR_NONE:
 310:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          break;
 928              		.loc 1 310 0
 929 0552 33E0     		b	.L47
 930              	.L48:
 311:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       case ADDR_16B:
 312:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          packetfunctions_readAddress(((uint8_t*)(msg->payload)+ieee802514_header->headerLength),
 931              		.loc 1 312 0
 932 0554 7B68     		ldr	r3, [r7, #4]
 933 0556 5B68     		ldr	r3, [r3, #4]
 934 0558 3A68     		ldr	r2, [r7]
 935 055a 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 936 055c 9818     		adds	r0, r3, r2
 937 055e 3B68     		ldr	r3, [r7]
 938 0560 03F12D02 		add	r2, r3, #45
 939 0564 0123     		movs	r3, #1
 940 0566 0121     		movs	r1, #1
 941 0568 FFF7FEFF 		bl	packetfunctions_readAddress
 313:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                      ADDR_16B,
 314:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                      &ieee802514_header->src,
 315:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                      OW_LITTLE_ENDIAN);
 316:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          ieee802514_header->headerLength += 2;
 942              		.loc 1 316 0
 943 056c 3B68     		ldr	r3, [r7]
 944 056e 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 945 0570 0233     		adds	r3, r3, #2
 946 0572 DAB2     		uxtb	r2, r3
 947 0574 3B68     		ldr	r3, [r7]
 948 0576 5A70     		strb	r2, [r3, #1]
 317:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          if (ieee802514_header->headerLength>msg->length) {  return; } // no more to read!
 949              		.loc 1 317 0
 950 0578 3B68     		ldr	r3, [r7]
 951 057a 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 952 057c 7B68     		ldr	r3, [r7, #4]
 953 057e 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 954 0580 9A42     		cmp	r2, r3
 955 0582 1AD9     		bls	.L79
 956 0584 FEE0     		b	.L22
 957              	.L49:
 318:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          break;
 319:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       case ADDR_64B:
 320:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          packetfunctions_readAddress(((uint8_t*)(msg->payload)+ieee802514_header->headerLength),
 958              		.loc 1 320 0
 959 0586 7B68     		ldr	r3, [r7, #4]
 960 0588 5B68     		ldr	r3, [r3, #4]
 961 058a 3A68     		ldr	r2, [r7]
 962 058c 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 963 058e 9818     		adds	r0, r3, r2
 964 0590 3B68     		ldr	r3, [r7]
 965 0592 03F12D02 		add	r2, r3, #45
 966 0596 0123     		movs	r3, #1
 967 0598 0221     		movs	r1, #2
 968 059a FFF7FEFF 		bl	packetfunctions_readAddress
 321:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                      ADDR_64B,
 322:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                      &ieee802514_header->src,
 323:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                                      OW_LITTLE_ENDIAN);
 324:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          ieee802514_header->headerLength += 8;
 969              		.loc 1 324 0
 970 059e 3B68     		ldr	r3, [r7]
 971 05a0 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 972 05a2 0833     		adds	r3, r3, #8
 973 05a4 DAB2     		uxtb	r2, r3
 974 05a6 3B68     		ldr	r3, [r7]
 975 05a8 5A70     		strb	r2, [r3, #1]
 325:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          if (ieee802514_header->headerLength>msg->length) {  return; } // no more to read!
 976              		.loc 1 325 0
 977 05aa 3B68     		ldr	r3, [r7]
 978 05ac 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 979 05ae 7B68     		ldr	r3, [r7, #4]
 980 05b0 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 981 05b2 9A42     		cmp	r2, r3
 982 05b4 00F2DD80 		bhi	.L80
 326:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          break;
 983              		.loc 1 326 0
 984 05b8 00E0     		b	.L47
 985              	.L79:
 318:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       case ADDR_64B:
 986              		.loc 1 318 0
 987 05ba 00BF     		nop
 988              	.L47:
 327:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       // no need for a default, since case would have been caught above
 328:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 329:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 330:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    if (ieee802514_header->ieListPresent==TRUE && ieee802514_header->frameVersion!=IEEE154_FRAMEVERS
 989              		.loc 1 330 0
 990 05bc 3B68     		ldr	r3, [r7]
 991 05be DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 992 05c0 002B     		cmp	r3, #0
 993 05c2 04D0     		beq	.L53
 994              		.loc 1 330 0 is_stmt 0 discriminator 1
 995 05c4 3B68     		ldr	r3, [r7]
 996 05c6 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 997 05c8 022B     		cmp	r3, #2
 998 05ca 40F0D480 		bne	.L81
 999              	.L53:
 331:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        return; //invalid packet accordint to p.64 IEEE15.4e
 332:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 333:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 334:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    // parse security header if security is supported locally
 335:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    if (ieee802514_header->securityEnabled && IEEE802154_SECURITY_SUPPORTED) {
 336:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        IEEE802154_security_retrieveAuxiliarySecurityHeader(msg,ieee802514_header);
 337:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 338:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    else if (ieee802514_header->securityEnabled && IEEE802154_SECURITY_SUPPORTED==0) {
 1000              		.loc 1 338 0 is_stmt 1
 1001 05ce 3B68     		ldr	r3, [r7]
 1002 05d0 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1003 05d2 002B     		cmp	r3, #0
 1004 05d4 40F0D180 		bne	.L82
 339:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       return; // security not supported
 340:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 341:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 342:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    // remove termination IE accordingly
 343:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    if (ieee802514_header->ieListPresent == TRUE) {
 1005              		.loc 1 343 0
 1006 05d8 3B68     		ldr	r3, [r7]
 1007 05da DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 1008 05dc 002B     		cmp	r3, #0
 1009 05de 00F0A680 		beq	.L55
 1010              	.L67:
 344:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        while(1) {
 345:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            // I have IE in frame. phase the IE in header first
 346:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            temp_8b  = *((uint8_t*)(msg->payload)+ieee802514_header->headerLength);
 1011              		.loc 1 346 0
 1012 05e2 7B68     		ldr	r3, [r7, #4]
 1013 05e4 5B68     		ldr	r3, [r3, #4]
 1014 05e6 3A68     		ldr	r2, [r7]
 1015 05e8 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 1016 05ea 1344     		add	r3, r3, r2
 1017 05ec 1B78     		ldrb	r3, [r3]
 1018 05ee 7B75     		strb	r3, [r7, #21]
 347:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            ieee802514_header->headerLength += 1;
 1019              		.loc 1 347 0
 1020 05f0 3B68     		ldr	r3, [r7]
 1021 05f2 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1022 05f4 0133     		adds	r3, r3, #1
 1023 05f6 DAB2     		uxtb	r2, r3
 1024 05f8 3B68     		ldr	r3, [r7]
 1025 05fa 5A70     		strb	r2, [r3, #1]
 348:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            temp_16b = temp_8b | (*((uint8_t*)(msg->payload)+ieee802514_header->headerLength) << 8);
 1026              		.loc 1 348 0
 1027 05fc 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 1028 05fe 1AB2     		sxth	r2, r3
 1029 0600 7B68     		ldr	r3, [r7, #4]
 1030 0602 5B68     		ldr	r3, [r3, #4]
 1031 0604 3968     		ldr	r1, [r7]
 1032 0606 4978     		ldrb	r1, [r1, #1]	@ zero_extendqisi2
 1033 0608 0B44     		add	r3, r3, r1
 1034 060a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1035 060c 1B02     		lsls	r3, r3, #8
 1036 060e 1BB2     		sxth	r3, r3
 1037 0610 1343     		orrs	r3, r3, r2
 1038 0612 1BB2     		sxth	r3, r3
 1039 0614 7B82     		strh	r3, [r7, #18]	@ movhi
 349:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            ieee802514_header->headerLength += 1;
 1040              		.loc 1 349 0
 1041 0616 3B68     		ldr	r3, [r7]
 1042 0618 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1043 061a 0133     		adds	r3, r3, #1
 1044 061c DAB2     		uxtb	r2, r3
 1045 061e 3B68     		ldr	r3, [r7]
 1046 0620 5A70     		strb	r2, [r3, #1]
 350:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            // stop when I got a header termination IE
 351:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            if (temp_16b == HEADER_TERMINATION_1_IE) {
 1047              		.loc 1 351 0
 1048 0622 7B8A     		ldrh	r3, [r7, #18]
 1049 0624 B3F57C5F 		cmp	r3, #16128
 1050 0628 04D1     		bne	.L56
 352:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                // I have payloadIE following
 353:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                msg->l2_payloadIEpresent = TRUE;
 1051              		.loc 1 353 0
 1052 062a 7B68     		ldr	r3, [r7, #4]
 1053 062c 0122     		movs	r2, #1
 1054 062e 83F8A220 		strb	r2, [r3, #162]
 354:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                break;
 1055              		.loc 1 354 0
 1056 0632 7CE0     		b	.L55
 1057              	.L56:
 355:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            }
 356:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            if (temp_16b == HEADER_TERMINATION_2_IE) {
 1058              		.loc 1 356 0
 1059 0634 7B8A     		ldrh	r3, [r7, #18]
 1060 0636 B3F57E5F 		cmp	r3, #16256
 1061 063a 04D1     		bne	.L57
 357:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                // I have payload following
 358:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                msg->l2_payloadIEpresent = FALSE;
 1062              		.loc 1 358 0
 1063 063c 7B68     		ldr	r3, [r7, #4]
 1064 063e 0022     		movs	r2, #0
 1065 0640 83F8A220 		strb	r2, [r3, #162]
 359:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                break;
 1066              		.loc 1 359 0
 1067 0644 73E0     		b	.L55
 1068              	.L57:
 360:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            }
 361:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            if ((temp_16b & IEEE802154E_DESC_TYPE_PAYLOAD_IE) != IEEE802154E_DESC_TYPE_PAYLOAD_IE) {
 1069              		.loc 1 361 0
 1070 0646 B7F91230 		ldrsh	r3, [r7, #18]
 1071 064a 002B     		cmp	r3, #0
 1072 064c 5DDB     		blt	.L83
 362:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                // only process header IE here
 363:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                len          = temp_16b & IEEE802154E_DESC_LEN_HEADER_IE_MASK;
 1073              		.loc 1 363 0
 1074 064e 7B8A     		ldrh	r3, [r7, #18]	@ movhi
 1075 0650 03F07F03 		and	r3, r3, #127
 1076 0654 3B82     		strh	r3, [r7, #16]	@ movhi
 364:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                gr_elem_id   = (temp_16b & IEEE802154E_DESC_ELEMENTID_HEADER_IE_MASK)>>IEEE802154E_D
 1077              		.loc 1 364 0
 1078 0656 7B8A     		ldrh	r3, [r7, #18]
 1079 0658 DB11     		asrs	r3, r3, #7
 1080 065a FB73     		strb	r3, [r7, #15]
 365:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 366:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                switch(gr_elem_id){
 1081              		.loc 1 366 0
 1082 065c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1083 065e 1E2B     		cmp	r3, #30
 1084 0660 00D0     		beq	.L60
 367:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                    case IEEE802154E_ACK_NACK_TIMECORRECTION_ELEMENTID:
 368:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        // timecorrection IE
 369:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        byte0 = *((uint8_t*)(msg->payload)+ieee802514_header->headerLength);
 370:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        byte1 = *((uint8_t*)(msg->payload)+ieee802514_header->headerLength+1);
 371:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        timeSyncInfo    = (uint16_t)byte1<<8 | (uint16_t)byte0;
 372:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        // negative ACK or not
 373:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        if (timeSyncInfo & 0x8000){
 374:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                             msg->l2_isNegativeACK = TRUE;
 375:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        } else {
 376:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                             msg->l2_isNegativeACK = FALSE;
 377:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        }
 378:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        // negative timeCorrection or not, cast from 12 to 16 bit signed integer
 379:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        if (timeSyncInfo & 0x0800){
 380:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                            timeCorrection = timeSyncInfo | 0xf000;
 381:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        } else {
 382:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                            timeCorrection = timeSyncInfo & 0x0fff;
 383:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        }
 384:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        timeCorrection  = ((int16_t)timeCorrection / (PORT_SIGNED_INT_WIDTH)US_PER_T
 385:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 386:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        ieee802514_header->timeCorrection = timeCorrection;
 387:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        ieee802514_header->headerLength  += len;
 388:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 389:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        // Record the position where we should start decrypting the ACK, if security
 390:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        msg->l2_payload = &msg->payload[ieee802514_header->headerLength];
 391:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        break;
 392:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                    default:
 393:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        break;
 1085              		.loc 1 393 0
 1086 0662 53E0     		b	.L58
 1087              	.L60:
 369:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        byte1 = *((uint8_t*)(msg->payload)+ieee802514_header->headerLength+1);
 1088              		.loc 1 369 0
 1089 0664 7B68     		ldr	r3, [r7, #4]
 1090 0666 5B68     		ldr	r3, [r3, #4]
 1091 0668 3A68     		ldr	r2, [r7]
 1092 066a 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 1093 066c 1344     		add	r3, r3, r2
 1094 066e 1B78     		ldrb	r3, [r3]
 1095 0670 BB73     		strb	r3, [r7, #14]
 370:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        timeSyncInfo    = (uint16_t)byte1<<8 | (uint16_t)byte0;
 1096              		.loc 1 370 0
 1097 0672 7B68     		ldr	r3, [r7, #4]
 1098 0674 5A68     		ldr	r2, [r3, #4]
 1099 0676 3B68     		ldr	r3, [r7]
 1100 0678 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1101 067a 0133     		adds	r3, r3, #1
 1102 067c 1344     		add	r3, r3, r2
 1103 067e 1B78     		ldrb	r3, [r3]
 1104 0680 7B73     		strb	r3, [r7, #13]
 371:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        // negative ACK or not
 1105              		.loc 1 371 0
 1106 0682 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 1107 0684 1B02     		lsls	r3, r3, #8
 1108 0686 1AB2     		sxth	r2, r3
 1109 0688 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 1110 068a 1BB2     		sxth	r3, r3
 1111 068c 1343     		orrs	r3, r3, r2
 1112 068e 1BB2     		sxth	r3, r3
 1113 0690 7B81     		strh	r3, [r7, #10]	@ movhi
 373:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                             msg->l2_isNegativeACK = TRUE;
 1114              		.loc 1 373 0
 1115 0692 B7F90A30 		ldrsh	r3, [r7, #10]
 1116 0696 002B     		cmp	r3, #0
 1117 0698 04DA     		bge	.L61
 374:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        } else {
 1118              		.loc 1 374 0
 1119 069a 7B68     		ldr	r3, [r7, #4]
 1120 069c 0122     		movs	r2, #1
 1121 069e 83F8A420 		strb	r2, [r3, #164]
 1122 06a2 03E0     		b	.L62
 1123              	.L61:
 376:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        }
 1124              		.loc 1 376 0
 1125 06a4 7B68     		ldr	r3, [r7, #4]
 1126 06a6 0022     		movs	r2, #0
 1127 06a8 83F8A420 		strb	r2, [r3, #164]
 1128              	.L62:
 379:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                            timeCorrection = timeSyncInfo | 0xf000;
 1129              		.loc 1 379 0
 1130 06ac 7B89     		ldrh	r3, [r7, #10]
 1131 06ae 03F40063 		and	r3, r3, #2048
 1132 06b2 002B     		cmp	r3, #0
 1133 06b4 07D0     		beq	.L63
 380:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        } else {
 1134              		.loc 1 380 0
 1135 06b6 7B89     		ldrh	r3, [r7, #10]	@ movhi
 1136 06b8 6FEA0353 		mvn	r3, r3, lsl #20
 1137 06bc 6FEA1353 		mvn	r3, r3, lsr #20
 1138 06c0 9BB2     		uxth	r3, r3
 1139 06c2 FB82     		strh	r3, [r7, #22]	@ movhi
 1140 06c4 04E0     		b	.L64
 1141              	.L63:
 382:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        }
 1142              		.loc 1 382 0
 1143 06c6 B7F90A30 		ldrsh	r3, [r7, #10]
 1144 06ca C3F30B03 		ubfx	r3, r3, #0, #12
 1145 06ce FB82     		strh	r3, [r7, #22]	@ movhi
 1146              	.L64:
 384:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 1147              		.loc 1 384 0
 1148 06d0 B7F91630 		ldrsh	r3, [r7, #22]
 1149 06d4 2D4A     		ldr	r2, .L86
 1150 06d6 82FB0312 		smull	r1, r2, r2, r3
 1151 06da 1A44     		add	r2, r2, r3
 1152 06dc 1211     		asrs	r2, r2, #4
 1153 06de DB17     		asrs	r3, r3, #31
 1154 06e0 D31A     		subs	r3, r2, r3
 1155 06e2 FB82     		strh	r3, [r7, #22]	@ movhi
 386:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        ieee802514_header->headerLength  += len;
 1156              		.loc 1 386 0
 1157 06e4 3B68     		ldr	r3, [r7]
 1158 06e6 FA8A     		ldrh	r2, [r7, #22]	@ movhi
 1159 06e8 DA87     		strh	r2, [r3, #62]	@ movhi
 387:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 1160              		.loc 1 387 0
 1161 06ea 3B68     		ldr	r3, [r7]
 1162 06ec 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 1163 06ee 3B8A     		ldrh	r3, [r7, #16]	@ movhi
 1164 06f0 DBB2     		uxtb	r3, r3
 1165 06f2 1344     		add	r3, r3, r2
 1166 06f4 DAB2     		uxtb	r2, r3
 1167 06f6 3B68     		ldr	r3, [r7]
 1168 06f8 5A70     		strb	r2, [r3, #1]
 390:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                        break;
 1169              		.loc 1 390 0
 1170 06fa 7B68     		ldr	r3, [r7, #4]
 1171 06fc 5B68     		ldr	r3, [r3, #4]
 1172 06fe 3A68     		ldr	r2, [r7]
 1173 0700 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 1174 0702 1A44     		add	r2, r2, r3
 1175 0704 7B68     		ldr	r3, [r7, #4]
 1176 0706 DA65     		str	r2, [r3, #92]
 391:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                    default:
 1177              		.loc 1 391 0
 1178 0708 00E0     		b	.L58
 1179              	.L83:
 394:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                }
 395:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            }
 1180              		.loc 1 395 0
 1181 070a 00BF     		nop
 1182              	.L58:
 396:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            if (ieee802514_header->headerLength==msg->length) {
 1183              		.loc 1 396 0
 1184 070c 3B68     		ldr	r3, [r7]
 1185 070e 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 1186 0710 7B68     		ldr	r3, [r7, #4]
 1187 0712 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1188 0714 9A42     		cmp	r2, r3
 1189 0716 03D1     		bne	.L65
 397:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                // nothing left, no payloadIE, no payload, this is the end of packet!
 398:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 399:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                ieee802514_header->valid=TRUE;
 1190              		.loc 1 399 0
 1191 0718 3B68     		ldr	r3, [r7]
 1192 071a 0122     		movs	r2, #1
 1193 071c 1A70     		strb	r2, [r3]
 400:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****                return;
 1194              		.loc 1 400 0
 1195 071e 31E0     		b	.L22
 1196              	.L65:
 401:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            }
 402:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            if (ieee802514_header->headerLength>msg->length) {  return; } // no more to read!
 1197              		.loc 1 402 0
 1198 0720 3B68     		ldr	r3, [r7]
 1199 0722 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 1200 0724 7B68     		ldr	r3, [r7, #4]
 1201 0726 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1202 0728 9A42     		cmp	r2, r3
 1203 072a 28D8     		bhi	.L84
 346:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****            ieee802514_header->headerLength += 1;
 1204              		.loc 1 346 0
 1205 072c 59E7     		b	.L67
 1206              	.L55:
 403:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        }
 404:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 405:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 406:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    // Record the position where we should start decrypting if security is enabled
 407:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    msg->l2_payload = &msg->payload[ieee802514_header->headerLength];
 1207              		.loc 1 407 0
 1208 072e 7B68     		ldr	r3, [r7, #4]
 1209 0730 5B68     		ldr	r3, [r3, #4]
 1210 0732 3A68     		ldr	r2, [r7]
 1211 0734 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 1212 0736 1A44     		add	r2, r2, r3
 1213 0738 7B68     		ldr	r3, [r7, #4]
 1214 073a DA65     		str	r2, [r3, #92]
 408:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** 
 409:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    // apply topology filter
 410:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    if (topology_isAcceptablePacket(ieee802514_header)==FALSE) {
 1215              		.loc 1 410 0
 1216 073c 3868     		ldr	r0, [r7]
 1217 073e FFF7FEFF 		bl	topology_isAcceptablePacket
 1218 0742 0346     		mov	r3, r0
 1219 0744 83F00103 		eor	r3, r3, #1
 1220 0748 DBB2     		uxtb	r3, r3
 1221 074a 002B     		cmp	r3, #0
 1222 074c 19D1     		bne	.L85
 411:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       // the topology filter does accept this packet, return
 412:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****       return;
 413:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 414:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    // if you reach this, the header is valid
 415:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    ieee802514_header->valid=TRUE;
 1223              		.loc 1 415 0
 1224 074e 3B68     		ldr	r3, [r7]
 1225 0750 0122     		movs	r2, #1
 1226 0752 1A70     		strb	r2, [r3]
 1227 0754 16E0     		b	.L22
 1228              	.L71:
 214:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    temp_8b = *((uint8_t*)(msg->payload)+ieee802514_header->headerLength);
 1229              		.loc 1 214 0
 1230 0756 00BF     		nop
 1231 0758 14E0     		b	.L22
 1232              	.L72:
 223:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    temp_8b = *((uint8_t*)(msg->payload)+ieee802514_header->headerLength);
 1233              		.loc 1 223 0
 1234 075a 00BF     		nop
 1235 075c 12E0     		b	.L22
 1236              	.L73:
 231:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 1237              		.loc 1 231 0
 1238 075e 00BF     		nop
 1239 0760 10E0     		b	.L22
 1240              	.L74:
 270:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        ieee802514_header->dsn  = *((uint8_t*)(msg->payload)+ieee802514_header->headerLength);
 1241              		.loc 1 270 0
 1242 0762 00BF     		nop
 1243 0764 0EE0     		b	.L22
 1244              	.L75:
 276:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    packetfunctions_readAddress(((uint8_t*)(msg->payload)+ieee802514_header->headerLength),
 1245              		.loc 1 276 0
 1246 0766 00BF     		nop
 1247 0768 0CE0     		b	.L22
 1248              	.L76:
 283:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    switch (ieee802514_header->dest.type) {
 1249              		.loc 1 283 0
 1250 076a 00BF     		nop
 1251 076c 0AE0     		b	.L22
 1252              	.L78:
 303:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          break;
 1253              		.loc 1 303 0
 1254 076e 00BF     		nop
 1255 0770 08E0     		b	.L22
 1256              	.L80:
 325:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****          break;
 1257              		.loc 1 325 0
 1258 0772 00BF     		nop
 1259 0774 06E0     		b	.L22
 1260              	.L81:
 331:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 1261              		.loc 1 331 0
 1262 0776 00BF     		nop
 1263 0778 04E0     		b	.L22
 1264              	.L82:
 339:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 1265              		.loc 1 339 0
 1266 077a 00BF     		nop
 1267 077c 02E0     		b	.L22
 1268              	.L84:
 402:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****        }
 1269              		.loc 1 402 0
 1270 077e 00BF     		nop
 1271 0780 00E0     		b	.L22
 1272              	.L85:
 412:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c ****    }
 1273              		.loc 1 412 0
 1274 0782 00BF     		nop
 1275              	.L22:
 416:build\openmote-cc2538_armgcc\openstack\02a-MAClow/IEEE802154.c **** }
 1276              		.loc 1 416 0
 1277 0784 1837     		adds	r7, r7, #24
 1278              		.cfi_def_cfa_offset 8
 1279 0786 BD46     		mov	sp, r7
 1280              		.cfi_def_cfa_register 13
 1281              		@ sp needed
 1282 0788 80BD     		pop	{r7, pc}
 1283              	.L87:
 1284 078a 00BF     		.align	2
 1285              	.L86:
 1286 078c 89888888 		.word	-2004318071
 1287              		.cfi_endproc
 1288              	.LFE4:
 1290              	.Letext0:
 1291              		.file 2 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include
 1292              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include
 1293              		.file 4 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include
 1294              		.file 5 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include
 1295              		.file 6 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\lib\\gcc\\arm-none-eab
 1296              		.file 7 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include
 1297              		.file 8 "bsp\\boards\\openmote-cc2538/board_info.h"
 1298              		.file 9 "inc/opendefs.h"
 1299              		.file 10 "build\\openmote-cc2538_armgcc\\openstack\\02a-MAClow\\IEEE802154.h"
 1300              		.file 11 "build\\openmote-cc2538_armgcc\\openstack\\02a-MAClow\\IEEE802154E.h"
 1301              		.file 12 "openstack\\cross-layers/idmanager.h"
DEFINED SYMBOLS
                            *ABS*:00000000 IEEE802154.c
C:\Users\Lee\AppData\Local\Temp\ccf4YVOf.s:16     .rodata:00000000 $d
C:\Users\Lee\AppData\Local\Temp\ccf4YVOf.s:19     .rodata:00000000 rreg_uriquery
C:\Users\Lee\AppData\Local\Temp\ccf4YVOf.s:24     .rodata:00000008 infoBoardname
C:\Users\Lee\AppData\Local\Temp\ccf4YVOf.s:29     .rodata:00000010 infouCName
C:\Users\Lee\AppData\Local\Temp\ccf4YVOf.s:34     .rodata:00000018 infoRadioName
C:\Users\Lee\AppData\Local\Temp\ccf4YVOf.s:39     .rodata:00000024 infoStackName
C:\Users\Lee\AppData\Local\Temp\ccf4YVOf.s:44     .rodata:00000030 chTemplate_default
C:\Users\Lee\AppData\Local\Temp\ccf4YVOf.s:64     .rodata:00000040 ebIEsBytestream
C:\Users\Lee\AppData\Local\Temp\ccf4YVOf.s:96     .rodata:0000005c linklocalprefix
C:\Users\Lee\AppData\Local\Temp\ccf4YVOf.s:106    .text:00000000 $t
C:\Users\Lee\AppData\Local\Temp\ccf4YVOf.s:113    .text:00000000 ieee802154_prependHeader
C:\Users\Lee\AppData\Local\Temp\ccf4YVOf.s:530    .text:0000029c ieee802154_retrieveHeader
C:\Users\Lee\AppData\Local\Temp\ccf4YVOf.s:1286   .text:0000078c $d
                           .group:00000000 wm4.0.93d65e4ff05d5af51629690e5b534e57
                           .group:00000000 wm4._newlib_version.h.4.875b979a44719054cd750d0952ad3fd6
                           .group:00000000 wm4.features.h.33.318b64d71e0957639cfb30f1db1f7ec8
                           .group:00000000 wm4._default_types.h.15.247e5cd201eca3442cbf5404108c4935
                           .group:00000000 wm4._intsup.h.10.cce27fed8484c08a33f522034c30d2b5
                           .group:00000000 wm4._stdint.h.10.c24fa3af3bc1706662bb5593a907e841
                           .group:00000000 wm4.stdint.h.23.d53047a68f4a85177f80b422d52785ed
                           .group:00000000 wm4.toolchain_defs.h.2.e5fd326231d01413e5361944b26cde07
                           .group:00000000 wm4.newlib.h.8.f6e543eac3f2f65163ba2ffe3b04987b
                           .group:00000000 wm4.ieeefp.h.77.220d9cccac42cd58761758bee2df4ce6
                           .group:00000000 wm4.config.h.220.6cac6a9685cfce5e83c17784171638d9
                           .group:00000000 wm4._ansi.h.31.de524f58584151836e90d8620a16f8e8
                           .group:00000000 wm4.stddef.h.39.a38874c8f8a57e66301090908ec2a69f
                           .group:00000000 wm4.lock.h.2.1461d1fff82dffe8bfddc23307f6484f
                           .group:00000000 wm4._types.h.125.5cf8a495f1f7ef36777ad868a1e32068
                           .group:00000000 wm4.stddef.h.161.5349cb105733e8777bfb0cf53c4e3f34
                           .group:00000000 wm4._types.h.184.03611d4f6b5bec9997bcf4279eceba07
                           .group:00000000 wm4.reent.h.17.90c2574d4acdcfce933db5cb09ff35fe
                           .group:00000000 wm4.cdefs.h.47.0bcdf94cb40e176393dd1404056825b4
                           .group:00000000 wm4.string.h.15.dab3980bf35408a4c507182805e2de3a
                           .group:00000000 wm4.stddef.h.161.19e15733342b50ead2919490b095303e
                           .group:00000000 wm4.stdbool.h.29.07dce69c3b78884144b7f7bd19483461
                           .group:00000000 wm4.hw_types.h.67.b10589a0806dcc2d274d6fab6b736519
                           .group:00000000 wm4.interrupt.h.41.272fc4ec0e276feb439e7974d0f77eaf
                           .group:00000000 wm4.board_info.h.22.34c159473b0affd9f1a6f5aa8cf576c9
                           .group:00000000 wm4.opendefs.h.23.3a22b672f37c862344b7aef3ebe35451
                           .group:00000000 wm4.IEEE802154.h.2.38fb510ed33a23a9a0660164e6dfab69
                           .group:00000000 wm4.opentimers.h.8.eb1cab84a6e82ba9569a1990291c92ba
                           .group:00000000 wm4.schedule.h.2.655275e038307b96d02df4174b9f26be
                           .group:00000000 wm4.IEEE802154E.h.31.0ae4fc33f8fea842f27863b9e73e066e
                           .group:00000000 wm4.idmanager.h.2.8c0e2159b32ef3125cbb1e984805cbfe
                           .group:00000000 wm4.stdio.h.27.3fc80220048df77954e38daec3bb9670
                           .group:00000000 wm4.stdarg.h.34.3a23a216c0c293b3d2ea2e89281481e6
                           .group:00000000 wm4.types.h.40.e8c16e7ec36ba55f133d0616070e25fc
                           .group:00000000 wm4._endian.h.31.65a10590763c3dde1ac4a7f66d7d4891
                           .group:00000000 wm4.endian.h.9.49f3a4695c1b61e8a0808de3c4a106cb
                           .group:00000000 wm4._timeval.h.30.0e8bfd94e85db17dda3286ee81496fe6
                           .group:00000000 wm4.timespec.h.41.d855182eb0e690443ab8651bcedca6e1
                           .group:00000000 wm4.select.h.19.97ca6fd0c752a0f3b6719fd314d361e6
                           .group:00000000 wm4.types.h.69.ed3eae3cf73030a737515151ebcab7a1
                           .group:00000000 wm4.sched.h.22.c60982713a5c428609783c78f9c78d95
                           .group:00000000 wm4._pthreadtypes.h.36.fcee9961c35163dde6267ef772ad1972
                           .group:00000000 wm4.stdio.h.2.4aa87247282eca6c8f36f9de33d8df1a
                           .group:00000000 wm4.stdio.h.81.932d0c162786b883f622b8d05c120c78
                           .group:00000000 wm4.stdarg.h.31.3fa7b8f6daaa31edd1696c08c77f2a73
                           .group:00000000 wm4.openserial.h.32.ea1006cc0a4d06130c082222e630581b
                           .group:00000000 wm4.IEEE802154_security.h.12.01376db633007f86cc7c78f3ee4cf764

UNDEFINED SYMBOLS
packetfunctions_reserveHeaderSize
ieee154e_getTimeCorrection
IEEE802154_security_prependAuxiliarySecurityHeader
idmanager_getMyID
packetfunctions_writeAddress
packetfunctions_isBroadcastMulticast
openserial_printCritical
openserial_printError
packetfunctions_readAddress
topology_isAcceptablePacket
